import streamlit as st

st.title("ğŸ’° 2025ë…„ ì†Œë“ì„¸ ê³„ì‚°ê¸°")
st.write("ì—°ì†Œë“ì— ë”°ë¥¸ ì†Œë“ì„¸, ì„¸ìœ¨, ëˆ„ì§„ê³µì œë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.")

# ì…ë ¥
income = st.number_input("ì—°ì†Œë“ì„ ì…ë ¥í•˜ì„¸ìš” (ì›)", min_value=0, step=1000000, format="%d")

# ì„¸ìœ¨í‘œ
tax_brackets = [
    (12_000_000, 0.06, 0),
    (46_000_000, 0.15, 1_080_000),
    (88_000_000, 0.24, 5_220_000),
    (150_000_000, 0.35, 14_900_000),
    (300_000_000, 0.38, 19_400_000),
    (500_000_000, 0.40, 25_400_000),
    (1_000_000_000, 0.42, 35_400_000),
    (float('inf'), 0.45, 65_400_000)
]

# ê³„ì‚° í•¨ìˆ˜
def calculate_income_tax(income):
    for limit, rate, deduction in tax_brackets:
        if income <= limit:
            tax = income * rate - deduction
            return rate, deduction, max(0, round(tax))

# ê³„ì‚° ë²„íŠ¼
if st.button("ì„¸ê¸ˆ ê³„ì‚°í•˜ê¸°"):
    rate, deduction, tax = calculate_income_tax(income)
    st.subheader("ğŸ§¾ ê³„ì‚° ê²°ê³¼")
    st.write(f"**ì—°ì†Œë“:** {income:,.0f} ì›")
    st.write(f"**ì ìš© ì„¸ìœ¨:** {rate*100:.0f}%")
    st.write(f"**ëˆ„ì§„ê³µì œì•¡:** {deduction:,.0f} ì›")
    st.write(f"**ì‚°ì¶œì„¸ì•¡:** {tax:,.0f} ì›")

    st.info(f"ğŸ’¡ ì§€ë°©ì†Œë“ì„¸ëŠ” ì‚°ì¶œì„¸ì•¡ì˜ 10%ì´ë©°, ì´ ì„¸ì•¡ì€ {tax * 1.1:,.0f} ì›ì…ë‹ˆë‹¤.")

# ì°¸ê³ ìš© ì„¸ìœ¨í‘œ
st.markdown("### ğŸ“Š ì„¸ìœ¨í‘œ (2025ë…„ ê¸°ì¤€)")
st.table({
    "ê³¼ì„¸í‘œì¤€ êµ¬ê°„ (ì›)": [
        "1,200ë§Œ ì´í•˜", "1,200ë§Œ ~ 4,600ë§Œ", "4,600ë§Œ ~ 8,800ë§Œ", 
        "8,800ë§Œ ~ 1.5ì–µ", "1.5ì–µ ~ 3ì–µ", "3ì–µ ~ 5ì–µ", "5ì–µ ~ 10ì–µ", "10ì–µ ì´ˆê³¼"
    ],
    "ì„¸ìœ¨": ["6%", "15%", "24%", "35%", "38%", "40%", "42%", "45%"],
    "ëˆ„ì§„ê³µì œ": ["0", "1,080,000", "5,220,000", "14,900,000", "19,400,000", "25,400,000", "35,400,000", "65,400,000"]
})
